---
# Template de Secrets para la aplicación e-commerce
# IMPORTANTE: Este archivo es un template. NO commitear valores reales.
# Usar herramientas como Sealed Secrets, Vault, o External Secrets Operator para producción.
#
# Para crear el secret real:
# kubectl create secret generic app-secrets \
#   --from-literal=jwt-secret=YOUR_JWT_SECRET \
#   --from-literal=db-password=YOUR_DB_PASSWORD \
#   --from-literal=redis-password=YOUR_REDIS_PASSWORD \
#   --from-literal=rabbitmq-password=YOUR_RABBITMQ_PASSWORD \
#   --from-literal=api-key=YOUR_API_KEY \
#   -n ecommerce

apiVersion: v1
kind: Secret
metadata:
  name: app-secrets
  namespace: ecommerce
  labels:
    app.kubernetes.io/name: app-secrets
    app.kubernetes.io/component: secrets
type: Opaque
stringData:
  # JWT Configuration - Generar con: openssl rand -base64 32
  JWT_SECRET: "REPLACE_WITH_32_BYTE_BASE64_SECRET"
  JWT_REFRESH_SECRET: "REPLACE_WITH_32_BYTE_BASE64_REFRESH_SECRET"
  
  # Database passwords
  DB_PASSWORD: "REPLACE_WITH_DB_PASSWORD"
  DB_REPLICA_PASSWORD: "REPLACE_WITH_DB_REPLICA_PASSWORD"
  
  # Redis password
  REDIS_PASSWORD: "REPLACE_WITH_REDIS_PASSWORD"
  
  # RabbitMQ credentials
  RABBITMQ_USERNAME: "REPLACE_WITH_RABBITMQ_USER"
  RABBITMQ_PASSWORD: "REPLACE_WITH_RABBITMQ_PASSWORD"
  
  # API Keys
  API_KEY: "REPLACE_WITH_API_KEY"
  PAYMENT_API_KEY: "REPLACE_WITH_PAYMENT_API_KEY"
  SHIPPING_API_KEY: "REPLACE_WITH_SHIPPING_API_KEY"
  EMAIL_API_KEY: "REPLACE_WITH_EMAIL_API_KEY"
  
  # OAuth credentials
  OAUTH_CLIENT_ID: "REPLACE_WITH_OAUTH_CLIENT_ID"
  OAUTH_CLIENT_SECRET: "REPLACE_WITH_OAUTH_CLIENT_SECRET"
  
  # Encryption keys
  ENCRYPTION_KEY: "REPLACE_WITH_32_BYTE_ENCRYPTION_KEY"
  SESSION_SECRET: "REPLACE_WITH_SESSION_SECRET"
  
  # External service credentials
  STRIPE_SECRET_KEY: "REPLACE_WITH_STRIPE_SECRET"
  STRIPE_WEBHOOK_SECRET: "REPLACE_WITH_STRIPE_WEBHOOK_SECRET"
  PAYPAL_CLIENT_ID: "REPLACE_WITH_PAYPAL_CLIENT_ID"
  PAYPAL_CLIENT_SECRET: "REPLACE_WITH_PAYPAL_CLIENT_SECRET"
  
  # SMTP credentials
  SMTP_USERNAME: "REPLACE_WITH_SMTP_USER"
  SMTP_PASSWORD: "REPLACE_WITH_SMTP_PASSWORD"

---
# Secrets para infraestructura de datos
apiVersion: v1
kind: Secret
metadata:
  name: db-secrets
  namespace: ecommerce-data
  labels:
    app.kubernetes.io/name: db-secrets
    app.kubernetes.io/component: database-secrets
type: Opaque
stringData:
  # PostgreSQL superuser password
  POSTGRES_PASSWORD: "REPLACE_WITH_POSTGRES_SUPERUSER_PASSWORD"
  
  # Application database user passwords
  AUTH_DB_PASSWORD: "REPLACE_WITH_AUTH_DB_PASSWORD"
  PRODUCT_DB_PASSWORD: "REPLACE_WITH_PRODUCT_DB_PASSWORD"
  ORDER_DB_PASSWORD: "REPLACE_WITH_ORDER_DB_PASSWORD"
  CART_DB_PASSWORD: "REPLACE_WITH_CART_DB_PASSWORD"
  INVENTORY_DB_PASSWORD: "REPLACE_WITH_INVENTORY_DB_PASSWORD"
  REPORTING_DB_PASSWORD: "REPLACE_WITH_REPORTING_DB_PASSWORD"
  
  # Redis password
  REDIS_PASSWORD: "REPLACE_WITH_REDIS_PASSWORD"
  
  # RabbitMQ credentials
  RABBITMQ_DEFAULT_USER: "REPLACE_WITH_RABBITMQ_USER"
  RABBITMQ_DEFAULT_PASS: "REPLACE_WITH_RABBITMQ_PASSWORD"

---
# TLS Secrets (para Ingress)
# Crear con: kubectl create secret tls ecommerce-tls \
#   --cert=path/to/cert.crt \
#   --key=path/to/cert.key \
#   -n ecommerce
apiVersion: v1
kind: Secret
metadata:
  name: ecommerce-tls
  namespace: ecommerce
  labels:
    app.kubernetes.io/name: ecommerce-tls
    app.kubernetes.io/component: tls
type: kubernetes.io/tls
data:
  tls.crt: "BASE64_ENCODED_CERTIFICATE"
  tls.key: "BASE64_ENCODED_PRIVATE_KEY"
