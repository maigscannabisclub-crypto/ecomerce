apiVersion: v1
kind: ConfigMap
metadata:
  name: ecommerce-config
  namespace: ecommerce
data:
  NODE_ENV: "production"
  LOG_LEVEL: "info"
  
  # Service Ports
  AUTH_SERVICE_PORT: "3001"
  PRODUCT_SERVICE_PORT: "3002"
  CART_SERVICE_PORT: "3003"
  ORDER_SERVICE_PORT: "3004"
  INVENTORY_SERVICE_PORT: "3005"
  REPORTING_SERVICE_PORT: "3006"
  
  # Service URLs
  AUTH_SERVICE_URL: "http://auth-service:3001"
  PRODUCT_SERVICE_URL: "http://product-service:3002"
  CART_SERVICE_URL: "http://cart-service:3003"
  ORDER_SERVICE_URL: "http://order-service:3004"
  INVENTORY_SERVICE_URL: "http://inventory-service:3005"
  REPORTING_SERVICE_URL: "http://reporting-service:3006"
  
  # Rate Limiting
  RATE_LIMIT_WINDOW_MS: "900000"
  RATE_LIMIT_MAX_REQUESTS: "100"
  
  # JWT
  JWT_EXPIRES_IN: "15m"
  JWT_REFRESH_EXPIRES_IN: "7d"
  BCRYPT_ROUNDS: "12"
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: db-config
  namespace: ecommerce
data:
  DB_HOST: "10.3.0.3"  # Cloud SQL private IP (update after terraform apply)
  DB_PORT: "5432"
  
  # Database names
  AUTH_DB: "auth_db"
  PRODUCT_DB: "product_db"
  CART_DB: "cart_db"
  ORDER_DB: "order_db"
  INVENTORY_DB: "inventory_db"
  REPORTING_DB: "reporting_db"
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: redis-config
  namespace: ecommerce
data:
  REDIS_HOST: "10.3.0.4"  # Redis private IP (update after terraform apply)
  REDIS_PORT: "6379"
  REDIS_DB: "0"
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: rabbitmq-config
  namespace: ecommerce
data:
  RABBITMQ_HOST: "rabbitmq"
  RABBITMQ_PORT: "5672"
  RABBITMQ_VHOST: "ecommerce"
